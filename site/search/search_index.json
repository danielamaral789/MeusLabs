{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"MeuLabN8N - Documentacao geral 1) Objetivo do componente Consolidar a visao geral do lab, com os blocos principais (n8n, PostgreSQL e Ansible) e o fluxo de uso. 2) Arquitetura Podman Desktop executa o pod n8n-pod com n8n + n8n-postgres . Um container separado ansible executa playbooks montados do host. Persistencia via volumes n8n_data e n8n_pgdata . Acesso local via http://localhost:5678 . 3) Pre-requisitos Windows + PowerShell Podman Desktop + Podman Machine ativos Estrutura do projeto em C:\\Users\\danie\\OneDrive\\Documentos\\Projetos\\MeuLabN8N 4) Passo a passo completo Criar volumes e pod do n8n conforme docs/n8n.md . Criar a imagem e o container do Ansible conforme docs/ansible.md . Validar acesso ao n8n em http://localhost:5678 . 5) Operacao diaria Subir/parar o pod n8n com podman pod start/stop n8n-pod . Executar playbooks via podman run ou podman exec no container ansible . 6) Backup e restore Backups dos volumes do n8n usando podman volume export . Playbooks ficam no host e devem entrar no backup padrao do Windows/OneDrive. 7) Troubleshooting Pod nao cria: confirme o comando podman pod create e o nome n8n-pod . Sem acesso ao n8n: confira publicacao da porta 5678:5678 no pod. Falha de SSH no Ansible: valide chave publica e permissoes. 8) Proximos passos Reverse proxy local com TLS. Webhooks internos para workflows do n8n. Workers do n8n para escalabilidade. Pipelines de automacao que disparam Ansible.","title":"Inicio"},{"location":"#meulabn8n-documentacao-geral","text":"","title":"MeuLabN8N - Documentacao geral"},{"location":"#1-objetivo-do-componente","text":"Consolidar a visao geral do lab, com os blocos principais (n8n, PostgreSQL e Ansible) e o fluxo de uso.","title":"1) Objetivo do componente"},{"location":"#2-arquitetura","text":"Podman Desktop executa o pod n8n-pod com n8n + n8n-postgres . Um container separado ansible executa playbooks montados do host. Persistencia via volumes n8n_data e n8n_pgdata . Acesso local via http://localhost:5678 .","title":"2) Arquitetura"},{"location":"#3-pre-requisitos","text":"Windows + PowerShell Podman Desktop + Podman Machine ativos Estrutura do projeto em C:\\Users\\danie\\OneDrive\\Documentos\\Projetos\\MeuLabN8N","title":"3) Pre-requisitos"},{"location":"#4-passo-a-passo-completo","text":"Criar volumes e pod do n8n conforme docs/n8n.md . Criar a imagem e o container do Ansible conforme docs/ansible.md . Validar acesso ao n8n em http://localhost:5678 .","title":"4) Passo a passo completo"},{"location":"#5-operacao-diaria","text":"Subir/parar o pod n8n com podman pod start/stop n8n-pod . Executar playbooks via podman run ou podman exec no container ansible .","title":"5) Operacao diaria"},{"location":"#6-backup-e-restore","text":"Backups dos volumes do n8n usando podman volume export . Playbooks ficam no host e devem entrar no backup padrao do Windows/OneDrive.","title":"6) Backup e restore"},{"location":"#7-troubleshooting","text":"Pod nao cria: confirme o comando podman pod create e o nome n8n-pod . Sem acesso ao n8n: confira publicacao da porta 5678:5678 no pod. Falha de SSH no Ansible: valide chave publica e permissoes.","title":"7) Troubleshooting"},{"location":"#8-proximos-passos","text":"Reverse proxy local com TLS. Webhooks internos para workflows do n8n. Workers do n8n para escalabilidade. Pipelines de automacao que disparam Ansible.","title":"8) Proximos passos"},{"location":"ansible/","text":"Ansible em container dedicado 1) Objetivo do componente Executar automacoes Ansible isoladas em container, usando playbooks montados do host. 2) Arquitetura Imagem: ansible-core (build local) Container: ansible (quando persistente) Playbooks no host: C:\\Users\\danie\\OneDrive\\Documentos\\Projetos\\MeuLabN8N\\Ansible Playbooks no container: /ansible Build a partir de: C:\\Users\\danie\\OneDrive\\Documentos\\Projetos\\MeuLabN8N\\container_images\\ansible_core Integracao n8n -> Ansible (conceitual, sem dominio externo) O n8n dispara o Ansible chamando podman exec no host. Uma abordagem comum e um script PowerShell local que roda: podman exec ansible ansible-playbook -i /ansible/inventory.ini /ansible/site.yml O n8n apenas aciona o script (sem expor dominio externo). 3) Pre-requisitos Podman Desktop + Podman Machine ativos Arquivos do Containerfile e entrypoint prontos na pasta de build Playbooks disponiveis no diretorio do host 4) Passo a passo completo 4.1) Build da imagem podman build -t ansible-core ` -f \"C:\\Users\\danie\\OneDrive\\Documentos\\Projetos\\MeuLabN8N\\container_images\\ansible_core\\Containerfile\" ` \"C:\\Users\\danie\\OneDrive\\Documentos\\Projetos\\MeuLabN8N\\container_images\\ansible_core\" 4.2) Execucao pontual podman run --rm -it ` --name ansible ` -v \"C:\\Users\\danie\\OneDrive\\Documentos\\Projetos\\MeuLabN8N\\Ansible:/ansible\" ` ansible-core ` ansible-playbook -i /ansible/inventory.ini /ansible/site.yml 4.3) Execucao persistente podman run -d ` --name ansible ` -v \"C:\\Users\\danie\\OneDrive\\Documentos\\Projetos\\MeuLabN8N\\Ansible:/ansible\" ` ansible-core ` sleep infinity podman exec -it ansible ` ansible-playbook -i /ansible/inventory.ini /ansible/site.yml 5) Operacao diaria podman ps --all --filter name=ansible podman logs ansible podman start ansible podman stop ansible podman exec -it ansible bash 6) Backup e restore O estado critico sao os playbooks no host. Para restaurar: reconstruir a imagem e montar o diretorio de playbooks. 7) Troubleshooting Permission denied (publickey) : Copie /home/ansible/.ssh/id_ed25519.pub para o authorized_keys do alvo. UNPROTECTED PRIVATE KEY FILE : Ajuste permissoes no container: powershell podman exec -it ansible chmod 600 /home/ansible/.ssh/id_ed25519 Chave nao aparece: O entrypoint gera a chave na primeira inicializacao. Em --rm , a chave e recriada sempre. 8) Proximos passos Padronizar roles e colecoes. Versionar inventarios e variaveis no repositorio. Integrar disparos do n8n via scripts locais.","title":"Ansible"},{"location":"ansible/#ansible-em-container-dedicado","text":"","title":"Ansible em container dedicado"},{"location":"ansible/#1-objetivo-do-componente","text":"Executar automacoes Ansible isoladas em container, usando playbooks montados do host.","title":"1) Objetivo do componente"},{"location":"ansible/#2-arquitetura","text":"Imagem: ansible-core (build local) Container: ansible (quando persistente) Playbooks no host: C:\\Users\\danie\\OneDrive\\Documentos\\Projetos\\MeuLabN8N\\Ansible Playbooks no container: /ansible Build a partir de: C:\\Users\\danie\\OneDrive\\Documentos\\Projetos\\MeuLabN8N\\container_images\\ansible_core","title":"2) Arquitetura"},{"location":"ansible/#integracao-n8n-ansible-conceitual-sem-dominio-externo","text":"O n8n dispara o Ansible chamando podman exec no host. Uma abordagem comum e um script PowerShell local que roda: podman exec ansible ansible-playbook -i /ansible/inventory.ini /ansible/site.yml O n8n apenas aciona o script (sem expor dominio externo).","title":"Integracao n8n -&gt; Ansible (conceitual, sem dominio externo)"},{"location":"ansible/#3-pre-requisitos","text":"Podman Desktop + Podman Machine ativos Arquivos do Containerfile e entrypoint prontos na pasta de build Playbooks disponiveis no diretorio do host","title":"3) Pre-requisitos"},{"location":"ansible/#4-passo-a-passo-completo","text":"","title":"4) Passo a passo completo"},{"location":"ansible/#41-build-da-imagem","text":"podman build -t ansible-core ` -f \"C:\\Users\\danie\\OneDrive\\Documentos\\Projetos\\MeuLabN8N\\container_images\\ansible_core\\Containerfile\" ` \"C:\\Users\\danie\\OneDrive\\Documentos\\Projetos\\MeuLabN8N\\container_images\\ansible_core\"","title":"4.1) Build da imagem"},{"location":"ansible/#42-execucao-pontual","text":"podman run --rm -it ` --name ansible ` -v \"C:\\Users\\danie\\OneDrive\\Documentos\\Projetos\\MeuLabN8N\\Ansible:/ansible\" ` ansible-core ` ansible-playbook -i /ansible/inventory.ini /ansible/site.yml","title":"4.2) Execucao pontual"},{"location":"ansible/#43-execucao-persistente","text":"podman run -d ` --name ansible ` -v \"C:\\Users\\danie\\OneDrive\\Documentos\\Projetos\\MeuLabN8N\\Ansible:/ansible\" ` ansible-core ` sleep infinity podman exec -it ansible ` ansible-playbook -i /ansible/inventory.ini /ansible/site.yml","title":"4.3) Execucao persistente"},{"location":"ansible/#5-operacao-diaria","text":"podman ps --all --filter name=ansible podman logs ansible podman start ansible podman stop ansible podman exec -it ansible bash","title":"5) Operacao diaria"},{"location":"ansible/#6-backup-e-restore","text":"O estado critico sao os playbooks no host. Para restaurar: reconstruir a imagem e montar o diretorio de playbooks.","title":"6) Backup e restore"},{"location":"ansible/#7-troubleshooting","text":"Permission denied (publickey) : Copie /home/ansible/.ssh/id_ed25519.pub para o authorized_keys do alvo. UNPROTECTED PRIVATE KEY FILE : Ajuste permissoes no container: powershell podman exec -it ansible chmod 600 /home/ansible/.ssh/id_ed25519 Chave nao aparece: O entrypoint gera a chave na primeira inicializacao. Em --rm , a chave e recriada sempre.","title":"7) Troubleshooting"},{"location":"ansible/#8-proximos-passos","text":"Padronizar roles e colecoes. Versionar inventarios e variaveis no repositorio. Integrar disparos do n8n via scripts locais.","title":"8) Proximos passos"},{"location":"n8n/","text":"n8n + PostgreSQL em Podman 1) Objetivo do componente Documentar a instalacao, operacao e recuperacao do n8n com PostgreSQL em um pod Podman no Windows. 2) Arquitetura Pod: n8n-pod Containers: n8n (docker.io/n8nio/n8n:latest) n8n-postgres (docker.io/postgres:16) Volumes: n8n_data -> /home/node/.n8n n8n_pgdata -> /var/lib/postgresql/data Porta: 5678:5678 Banco dentro do pod: 127.0.0.1:5432 Integracao n8n -> Ansible (conceitual, sem dominio externo) O n8n deve apenas disparar a automacao; o Ansible continua isolado no container ansible . Opcao A: n8n aciona um script PowerShell local que executa podman exec ansible ansible-playbook ... . Opcao B: n8n acessa um endpoint local que faz o disparo do playbook no host. Em ambos os casos, sem dominio externo, apenas localhost /rede local do host. 3) Pre-requisitos Podman Desktop + Podman Machine ativos PowerShell Variaveis fixas: N8N_ENCRYPTION_KEY=\"coloque-uma-chave-fixa-aqui\" DB_POSTGRESDB_USER=n8n DB_POSTGRESDB_PASSWORD=n8npass DB_POSTGRESDB_DATABASE=n8n 4) Passo a passo completo 4.1) Criar volumes podman volume create n8n_data podman volume create n8n_pgdata 4.2) Criar pod podman pod create ` --name n8n-pod ` -p 5678:5678 4.3) Postgres podman run -d ` --pod n8n-pod ` --name n8n-postgres ` -e POSTGRES_USER=n8n ` -e POSTGRES_PASSWORD=n8npass ` -e POSTGRES_DB=n8n ` -v n8n_pgdata:/var/lib/postgresql/data ` docker.io/postgres:16 4.4) n8n podman run -d ` --pod n8n-pod ` --name n8n ` -v n8n_data:/home/node/.n8n ` -e N8N_ENCRYPTION_KEY=\"coloque-uma-chave-fixa-aqui\" ` -e DB_TYPE=postgresdb ` -e DB_POSTGRESDB_HOST=127.0.0.1 ` -e DB_POSTGRESDB_PORT=5432 ` -e DB_POSTGRESDB_DATABASE=n8n ` -e DB_POSTGRESDB_USER=n8n ` -e DB_POSTGRESDB_PASSWORD=n8npass ` -e N8N_HOST=localhost ` -e N8N_PORT=5678 ` -e N8N_PROTOCOL=http ` docker.io/n8nio/n8n:latest 5) Operacao diaria podman pod ps podman ps podman logs n8n podman logs n8n-postgres podman pod stop n8n-pod podman pod start n8n-pod 6) Backup e restore podman volume export n8n_data -o n8n_data.tar podman volume export n8n_pgdata -o n8n_pgdata.tar podman volume create n8n_data podman volume create n8n_pgdata podman volume import n8n_data n8n_data.tar podman volume import n8n_pgdata n8n_pgdata.tar 7) Troubleshooting Pod nao cria: use podman pod create , nao podman create pod . Volume nao existe: rode podman volume create . Postgres indisponivel: verifique podman logs n8n-postgres . Erro de credenciais no n8n: confirme DB_POSTGRESDB_* . Credenciais do n8n \"quebradas\": N8N_ENCRYPTION_KEY mudou. 8) Proximos passos Reverse proxy local. Webhooks controlados na rede local. Workers para filas e escalabilidade. Disparo de playbooks Ansible a partir de workflows n8n.","title":"n8n"},{"location":"n8n/#n8n-postgresql-em-podman","text":"","title":"n8n + PostgreSQL em Podman"},{"location":"n8n/#1-objetivo-do-componente","text":"Documentar a instalacao, operacao e recuperacao do n8n com PostgreSQL em um pod Podman no Windows.","title":"1) Objetivo do componente"},{"location":"n8n/#2-arquitetura","text":"Pod: n8n-pod Containers: n8n (docker.io/n8nio/n8n:latest) n8n-postgres (docker.io/postgres:16) Volumes: n8n_data -> /home/node/.n8n n8n_pgdata -> /var/lib/postgresql/data Porta: 5678:5678 Banco dentro do pod: 127.0.0.1:5432","title":"2) Arquitetura"},{"location":"n8n/#integracao-n8n-ansible-conceitual-sem-dominio-externo","text":"O n8n deve apenas disparar a automacao; o Ansible continua isolado no container ansible . Opcao A: n8n aciona um script PowerShell local que executa podman exec ansible ansible-playbook ... . Opcao B: n8n acessa um endpoint local que faz o disparo do playbook no host. Em ambos os casos, sem dominio externo, apenas localhost /rede local do host.","title":"Integracao n8n -&gt; Ansible (conceitual, sem dominio externo)"},{"location":"n8n/#3-pre-requisitos","text":"Podman Desktop + Podman Machine ativos PowerShell Variaveis fixas: N8N_ENCRYPTION_KEY=\"coloque-uma-chave-fixa-aqui\" DB_POSTGRESDB_USER=n8n DB_POSTGRESDB_PASSWORD=n8npass DB_POSTGRESDB_DATABASE=n8n","title":"3) Pre-requisitos"},{"location":"n8n/#4-passo-a-passo-completo","text":"","title":"4) Passo a passo completo"},{"location":"n8n/#41-criar-volumes","text":"podman volume create n8n_data podman volume create n8n_pgdata","title":"4.1) Criar volumes"},{"location":"n8n/#42-criar-pod","text":"podman pod create ` --name n8n-pod ` -p 5678:5678","title":"4.2) Criar pod"},{"location":"n8n/#43-postgres","text":"podman run -d ` --pod n8n-pod ` --name n8n-postgres ` -e POSTGRES_USER=n8n ` -e POSTGRES_PASSWORD=n8npass ` -e POSTGRES_DB=n8n ` -v n8n_pgdata:/var/lib/postgresql/data ` docker.io/postgres:16","title":"4.3) Postgres"},{"location":"n8n/#44-n8n","text":"podman run -d ` --pod n8n-pod ` --name n8n ` -v n8n_data:/home/node/.n8n ` -e N8N_ENCRYPTION_KEY=\"coloque-uma-chave-fixa-aqui\" ` -e DB_TYPE=postgresdb ` -e DB_POSTGRESDB_HOST=127.0.0.1 ` -e DB_POSTGRESDB_PORT=5432 ` -e DB_POSTGRESDB_DATABASE=n8n ` -e DB_POSTGRESDB_USER=n8n ` -e DB_POSTGRESDB_PASSWORD=n8npass ` -e N8N_HOST=localhost ` -e N8N_PORT=5678 ` -e N8N_PROTOCOL=http ` docker.io/n8nio/n8n:latest","title":"4.4) n8n"},{"location":"n8n/#5-operacao-diaria","text":"podman pod ps podman ps podman logs n8n podman logs n8n-postgres podman pod stop n8n-pod podman pod start n8n-pod","title":"5) Operacao diaria"},{"location":"n8n/#6-backup-e-restore","text":"podman volume export n8n_data -o n8n_data.tar podman volume export n8n_pgdata -o n8n_pgdata.tar podman volume create n8n_data podman volume create n8n_pgdata podman volume import n8n_data n8n_data.tar podman volume import n8n_pgdata n8n_pgdata.tar","title":"6) Backup e restore"},{"location":"n8n/#7-troubleshooting","text":"Pod nao cria: use podman pod create , nao podman create pod . Volume nao existe: rode podman volume create . Postgres indisponivel: verifique podman logs n8n-postgres . Erro de credenciais no n8n: confirme DB_POSTGRESDB_* . Credenciais do n8n \"quebradas\": N8N_ENCRYPTION_KEY mudou.","title":"7) Troubleshooting"},{"location":"n8n/#8-proximos-passos","text":"Reverse proxy local. Webhooks controlados na rede local. Workers para filas e escalabilidade. Disparo de playbooks Ansible a partir de workflows n8n.","title":"8) Proximos passos"}]}